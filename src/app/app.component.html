<!-- The main page of the application, currSection = 0: -->
<div *ngIf="currSection == 0" class="container">
  <img class="logo" src="../assets/logo.png" alt='Game Logo â€“ A wooden puzzle saying "15 PUZZLE"' />
  <button (click)="goToSelectBoardSize()" class="btn">Play</button>
  <button (click)="goToSettings()" class="settings-btn btn">Settings</button>
  <button (click)="goToAbout()" class="btn">About</button>
</div>
<!-- end main page of the application. -->

<div class="container" *ngIf="currSection == 1">
  <button (click)="goBackToMain()" class="back-btn" [attr.aria-label]="'Go back!'">
    <img src="../assets/arrow-left-solid.svg" alt="" />
  </button>

  <button (click)="goToGame(3)" class="btn">3X3</button>
  <button (click)="goToGame(4)" class="btn">4X4</button>
  <button (click)="goToGame(5)" class="btn">5X5</button>
</div>

<!-- The game zone, second page of the application, currSection = 1: -->
<div *ngIf="currSection == 2" class="container" id="confetti">
  <button (click)="goBackToMain()" class="back-btn" [disabled]="gameStarted" [attr.aria-label]="'Go back!'">
    <img src="../assets/arrow-left-solid.svg" alt="" />
  </button>
  <!-- timer div  -->
  <div class="timer">
    <p>
      {{ padNumber(timerValueSec / 60) }}:{{ padNumber(timerValueSec % 60) }}
    </p>
  </div>
  <!-- end timer div  -->
  <p *ngIf="gameWon" class="gameWon" role="alert">
    Congratulations! <br />
    You won!
  </p>
  <!-- div for making the board look 3d -->
  <div class="board-sides">
    <!-- board div  -->
    <div class="board" [ngClass]="{
        grid3: boardSize == 3,
        grid4: boardSize == 4,
        grid5: boardSize == 5
      }">
      <!-- pieces -->
      <div *ngFor="let piece of pieces; let i = index" class="piece" [ngClass]="{
          'invisible-piece': piece.number == 0
        }" (click)="move(piece)" [style.transform]="
          'translateX(' +
          (this.selectedPiece == piece ? distanceX : 0) +
          'px) ' +
          'translateY(' +
          (this.selectedPiece == piece ? distanceY : 0) +
          'px)'
        ">
        <p [attr.id]="'pos' + i" [attr.aria-labelledby]="settings.isAccessibility ? 'label' + i : null" [ngClass]="{
            piece3: boardSize == 3,
            piece4: boardSize == 4,
            piece5: boardSize == 5
          }">
          {{ piece.number }}
        </p>
      </div>
      <!-- end of pieces div -->
    </div>
    <!-- end of board div -->
  </div>
  <!-- end of board sides div -->

  <!-- This div appears when abandon is clicked, to ask if sure: -->
  <div *ngIf="askIfAbandon" class="askIfAbandon">
    <span role="alert">Are you sure?</span>
    <button (click)="abandonEffectively()" class="btn">Yes</button>
    <button (click)="dontAbandon()" class="btn">No</button>
  </div>

  <!-- The bottom buttons: -->
  <button *ngIf="!gameStarted" (click)="startGame()" class="btn" [disabled]="gameStarted">
    Start!
  </button>
  <button *ngIf="!(!gameStarted || askIfAbandon)" (click)="askForAbandon()" class="btn"
    [disabled]="!gameStarted || askIfAbandon">
    Abandon!
  </button>

  <!-- Here a div for aria labels, only if is enabled in settings: -->
  <div *ngIf="settings.isAccessibility" style="display: none">
    <p *ngFor="let label of ariaLabels; let i = index" [attr.id]="'label' + i">
      {{ label }}
    </p>
  </div>
  <!-- end aria labels div. -->
</div>
<!-- end game zone, second page of the application. -->

<!-- The settings zone, third page of the application, currSection = 2: -->
<div *ngIf="currSection == 3" class="container">
  <button (click)="goBackToMain()" class="back-btn" [attr.aria-label]="'Go back!'">
    <img src="../assets/arrow-left-solid.svg" alt="" />
  </button>
  <app-settings></app-settings>
</div>
<!-- end settings zone, third page of the application. -->

<!-- The about zone, fourth page of the application, currSection = 3: -->
<div *ngIf="currSection == 4" class="container about-container">
  <button (click)="goBackToMain()" class="back-btn" [attr.aria-label]="'Go back!'">
    <img src="../assets/arrow-left-solid.svg" alt="" />
  </button>
  <app-about></app-about>
</div>
<!-- end about zone, third page of the application. -->

<!-- Here the sound available in all the pages: -->
<app-audio-tags></app-audio-tags>